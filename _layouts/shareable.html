<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>
    {% if page.title %}
      {{ page.title | escape }} — {{ site.title | default: "VGCC" | escape }}
    {% else %}
      {{ site.title | default: "VGCC" | escape }} — {{ site.tagline | default: "Video Game Culture Community" | escape }}
    {% endif %}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Basic SEO -->
  <meta name="description" content="{{ page.description | default: site.description | escape }}" />
  <link rel="canonical" href="{{ page.url | absolute_url }}" />

  {%- assign og_image = page.image | default: site.social_image | default: '/assets/social/default-1200x630.png' -%}
  {%- assign og_image_abs = og_image | absolute_url -%}

  <!-- Open Graph (Slack, Discord, etc.) -->
  <meta property="og:title" content="{{ page.og_title | default: page.title | default: site.title | escape }}" />
  <meta property="og:description" content="{{ page.og_description | default: page.description | default: site.description | escape }}" />
  <meta property="og:type" content="{{ page.og_type | default: 'website' }}" />
  <meta property="og:site_name" content="{{ site.short_name | default: 'VGCC' | escape }}" />
  <meta property="og:url" content="{{ page.url | absolute_url }}" />
  <meta property="og:image" content="{{ og_image_abs }}" />
  <meta property="og:image:width" content="{{ page.og_image_width | default: '1200' }}" />
  <meta property="og:image:height" content="{{ page.og_image_height | default: '630' }}" />
  <meta property="og:image:alt" content="{{ page.og_image_alt | default: site.og_image_alt | default: 'Preview image' | escape }}" />
  <meta property="og:locale" content="{{ site.og_locale | default: 'en_US' }}" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="{{ page.twitter_card | default: 'summary_large_image' }}" />
  <meta name="twitter:title" content="{{ page.twitter_title | default: page.title | default: site.title | escape }}" />
  <meta name="twitter:description" content="{{ page.twitter_description | default: page.description | default: site.description | escape }}" />
  <meta name="twitter:image" content="{{ page.twitter_image | default: og_image_abs }}" />
  <meta name="twitter:image:alt" content="{{ page.twitter_image_alt | default: page.og_image_alt | default: site.og_image_alt | default: 'Preview image' | escape }}" />

  <!-- Accent color -->
  <meta name="theme-color" content="{{ page.theme_color | default: site.theme_color | default: '#6C5CE7' }}" />

  <!-- Optional smaller fallback -->
  <link rel="image_src" href="{{ page.image_small | default: site.social_image_small | default: '/assets/social/default-600x315.png' | absolute_url }}" />
</head>
<body>
  <main style="font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem auto; max-width: 720px; line-height: 1.6;">
    <h1>{{ page.hero_title | default: page.title | default: site.title }}</h1>
    {% if page.intro or site.intro %}
      <p>{{ page.intro | default: site.intro }}</p>
    {% endif %}

    {% if page.links %}
      <p>
        {% for link in page.links %}
          <a href="{{ link.url }}">{{ link.label }}</a>{% unless forloop.last %} · {% endunless %}
        {% endfor %}
      </p>
    {% endif %}

    {% if page.figure_image %}
      <figure>
        <img src="{{ page.figure_image | absolute_url }}"
             alt="{{ page.figure_alt | default: 'Preview image' | escape }}"
             style="max-width:100%; height:auto; border-radius:12px;" />
        {% if page.figure_caption %}
          <figcaption>{{ page.figure_caption }}</figcaption>
        {% endif %}
      </figure>
    {% endif %}

    <!-- Markdown content gets injected here -->
    {{ content }}
  </main>
</body>
</html>
